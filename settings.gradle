pluginManagement {
    repositories {
        maven {
            name = "Fabric"
            url = "https://maven.fabricmc.net/"
        }
        mavenCentral()
        gradlePluginPortal()
    }
}

setupViaSubproject("api")
setupViaSubproject("legacy-compat")
setupViaSubproject("visuals")
setupViaSubproject("diff-generator")

void setupViaSubproject(String name) {
    var maven = "viafabricplus-" + name
    include maven
    project(":" + maven).projectDir = file(name)
}